{% extends "base/layout.html" %}

{% block main %}
<main class="container mx-auto px-4">
  <div class="max-w-screen-md space-y-8">
    <header>
      <h1 class="font-semibold text-xl text-blue-500">Übersicht</h1>
    </header>
    {% for schedule in schedules %}
    <div>
      <a href="{% url 'schedule' schedule.pk %}"
	 class="group cursor-pointer">
	<p class="font-semibold group-hover:underline group-hover:text-blue-500 ">Zeitplan {{ schedule.pk }}</p>
        <p class="mt-2 text-sm">
          Vom {{ schedule.start }} bis zum {{ schedule.end }}
        </p>
        <p class="mt-1 text-sm">
          {% if schedule.users.all.count %}
          Mit
          {% for user in schedule.users.all %}
          {% if forloop.last and not forloop.first %}und{% endif %}
          {{ user.username }}{% if forloop.revcounter0 > 1 %},{% endif %}
          {% endfor %}
          {% else %}
          Noch keine Teilnehmer
          {% endif %}
        </p>
      </a>
    </div>
    {% endfor %}
    <div class="mt-6 pt-6 border-t flex flex-row">
      <a href="{% url 'add_schedule' %}"
	 class="inline-block px-4 py-2 border rounded-lg leading-none 
		bg-blue-500 hover:bg-blue-600 text-white cursor-pointer">
	Neuen Zeitplan hinzufügen
      </a>
    </div>
  </div>
</main>
{% endblock %}

